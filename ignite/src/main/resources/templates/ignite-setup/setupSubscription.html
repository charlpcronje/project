<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="_csrf" th:content="${_csrf == null ? '' : _csrf.token}" />
<meta name="_csrf_header" th:content="${_csrf == null ? '' : _csrf.headerName}" />

<link rel="shortcut icon" th:href="@{/img/favicon.png}">

<title>Ignite: Subscription Setup</title>
<!-- Based on: https://bootstrapmade.com/demo/NiceAdmin/ -->

<!-- Bootstrap CSS -->
<link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.min.css}">

<!-- bootstrap datatables -->
<link rel="stylesheet" type="text/css" th:href="@{/assets/datatables/bootstrap.css}">
<link rel="stylesheet" type="text/css" th:href="@{/assets/datatables/bootstrap4.min.css}">
<link rel="stylesheet" type="text/css" th:href="@{/assets/Select-1.2.6/css/select.bootstrap4.min.css}">
<link rel="stylesheet" type="text/css" th:href="@{/assets/Buttons-1.5.2/css/buttons.bootstrap4.min.css}">

<!-- bootstrap theme -->
<link rel="stylesheet" type="text/css" th:href="@{css/bootstrap-theme.css}">

<!-- font icon -->
<link rel="stylesheet" type="text/css" th:href="@{css/elegant-icons-style.css}">
<link rel="stylesheet" type="text/css" th:href="@{font-awesome/6.4.2/css/all.min.css}">

<!-- full calendar css-->
<link rel="stylesheet" type="text/css" th:href="@{assets/fullcalendar/fullcalendar/bootstrap-fullcalendar.css}">
<link rel="stylesheet" type="text/css" th:href="@{assets/fullcalendar/fullcalendar/fullcalendar.css}">
<link rel="stylesheet" type="text/css" th:href="@{assets/datepicker/1.8.0/css/bootstrap-datepicker.css}">

<!-- easy pie chart-->
<link rel="stylesheet" type="text/css" th:href="@{assets/jquery-easy-pie-chart/jquery.easy-pie-chart.css}" media="screen">

<!-- owl carousel -->
<link rel="stylesheet" type="text/css" th:href="@{css/owl.carousel.css}">
<link rel="stylesheet" type="text/css" th:href="@{css/jquery-jvectormap-1.2.2.css}">

<!-- Custom styles -->
<link rel="stylesheet" type="text/css" th:href="@{css/fullcalendar.css}">
<link rel="stylesheet" type="text/css" th:href="@{css/widgets.css}">
<link rel="stylesheet" type="text/css" th:href="@{css/style.css}">
<link rel="stylesheet" type="text/css" th:href="@{css/style-responsive.css}">
<link rel="stylesheet" type="text/css" th:href="@{css/xcharts.min.css}">
<link rel="stylesheet" type="text/css" th:href="@{css/jquery-ui-1.10.4.min.css}">

<!-- Ignite -->
<link rel="stylesheet" type="text/css" th:href="@{ignite/css/ignite.css}">

</head>

<body>                

	
	<script th:inline="text">
		var _igModel = {
			username : "[[${igUsername}]]",
			avatar : "[[${igUserAvatar}]]"
		};
	</script>

	<!-- container section start -->
	<section id="container">

		<header class="header dark-bg">
			<div class="toggle-nav">
				<div class="icon-reorder tooltips"
					data-original-title="Toggle Navigation" 
					data-placement="bottom"
					onclick="toggleSidebar()">
					<i class="icon_menu"></i>
				</div>
			</div>

			<!--logo start-->
			<div id="headerLogo" style="display:inline"></div>
			<!--logo end-->

			<div class="top-nav notification-row">
				<profile-menu th:replace="fragments/profile-menu :: profile-menu"></profile-menu>
			</div>
		</header>
		<!--header end-->

		<!--sidebar start-->
		<aside>
			<div id="sidebar" class="nav-collapse ">
				<sidebar-menu th:replace="fragments/sidebar-menu :: sidebar-menu"></sidebar-menu>
			</div>
		</aside>
		<!--sidebar end-->

		<!--main content start-->
		<section id="main-content">
			<section class="wrapper">
				<!--overview start-->
				<div class="row">
					<div class="col-lg-12">
						<h4>
							<i class="fa fa-list"></i> Setup: Roles and Permissions
						</h4>

						<header class="panel-heading tab-bg-info">
			            	<ul class="nav nav-tabs">
			                  <li class="active"><a data-toggle="tab" href="#setupSubscriptionTab">Subscription Setup</a></li>
			                  <li><a data-toggle="tab" href="#participantSubscriptionTab">Subscribers</a></li>
			                </ul>
			            </header>
			            
						<div class="panel-body">
							<div class="tab-content">
								<div id="setupSubscriptionTab" class="tab-pane active">
									<div class="modal-header col-md-4">
										<h4 class="modal-title2">Subscriptions</h4>
									</div>
									<div class="modal-header col-md-8">
										<h4 class="modal-title3">Price Structure</h4><!-- class name was changed, so that we can change the text in js -->
									</div>
									
										<div class="row">
											<div class="col-md-4">
												<table id="roleTable" class="table table-striped table-advance table-hover" style="width:100%"> <!--  -->
						                        	<thead>
						                        		<tr>
						                        			<th>Code</th>
						                        			<th>Name</th>
						                        			<th>Description</th>
						                        		</tr>
						                        	</thead>
						                        	<tbody>
													</tbody>
						              			</table>
					              			</div>
					              			<div class="col-md-8">

							              		<div id="rpChildPermissionPanelEmpty" style="display:block">
													<p style="text-align:center; color: #777777;">
														<br><br><br><br>
														Please select a Role
													</p>
												</div>
												<div id="rpChildPermissionPanel" style="display:none">
													<table id="childPermissionTable" class="table table-striped table-advance table-hover" style="width:100%"> <!--  -->
							                        	<thead>
							                        		<tr>
							                        			<th>rolePermissionId</th>
							                        			<th>roleCode</th>
							                        			<th>Code</th>
							                        			<th>Permission</th>
							                        		</tr>
							                        	</thead>
							                        	<tbody>
														</tbody>
							              			</table>
						              			</div>
						              		</div>			
					              		</div>
									<br>
		                    	</div>
		                    	
		                    	<div id="participantSubscriptionTab" class="tab-pane">
		                    	
<!-- 									<div class="row">
										<label class="col-md-2 col-form-label" for="rpRoleSelect">Role</label>
										<div class="col-md-3">
											<div class="form-group">
												<select id="rpRoleSelect" class="form-control" onchange="selectRole()"></select>
											</div>
										</div>
									</div>
									<div class="row">
										<label class="col-md-2 col-form-label">Filter</label>
										<div class="col-md-2">
											<input id="filterInput" class="form-control" onKeyUp="updatePermissionFilter()">
											<!-- 
											<button class="btn dt-button" onclick="resetPermissionFilter()"><i class="fas fa-sync-alt"></i></button>
											
										</div>
									</div>
									<div class="row">
										<label class="col-md-2 col-form-label">Permissions</label>
										<div class="col-md-4">
											<label class="col-form-label">Available</label>
											
											<select id="availablePermissions" size="12" class="form-control" style="height: auto !important" onchange="updateSelectButtons()">
											</select>	
										</div>
										<div class="" style="text-align: center">
											<p>&nbsp;</p>
											
											<button id="assignPermissionBtn" class="btn btn-sm dt-button mb-1 disabled" onclick="assignSelectedPermission()"><i class="fas fa-chevron-right" title="Assign permission"></i></button><br class="mb-1">
											<button id="revokePermissionBtn" class="btn btn-sm dt-button mb-1 disabled" onclick="revokeSelectedPermission()"><i class="fas fa-chevron-left" title="Revoke permission"></i></button><br>
										</div>
										<div class="col-md-4">
											<label class="col-form-label">Assigned</label>
										
											<select id="assignedPermissions" size="12" class="form-control" style="height: auto !important" onchange="updateSelectButtons()">
											</select>
										</div>
									</div> -->






									<div class="row">
										<div class="modal-header col-md-4">
											<h4 class="modal-title">Ui Component</h4><!-- class name was changed, so that we can change the text in js -->
										</div>
									</div>

									<div class="row">
											
				              			<div class="col-md-12">

											<div id="uiUiComponentPanel" >
												<table id="uiComponentTable" class="table table-striped table-advance table-hover" style="width:100%"> <!--  -->
						                        	<thead>
						                        		<tr>
														  <th>uiComponentId</th>
														  <th>uiComponentTitle</th>
														  <th>uiComponentLink</th>
														  <th>orderNo</th>
														  <th>parentUiComponentId</th>
														  <th>Parent</th>
														  <th>activeInd</th>
														  <th>iconClassName</th>
														  <th>permissionCodeRequired</th>
														  <th>rowOrderNo</th>
														  <th>menuLevel</th>
														  <th>subitemCount</th>
						                        		</tr>
						                        	</thead>
						                        	<tbody>
													</tbody>
						              			</table>
					              			</div>
					              		</div>										              		
           			
				              		</div>

		                    	</div>
	                    	</div>
	                    </div>
					</div>
				</div>

			</section>
			<div class="text-right"></div>
		</section>
		<!--main content end-->
	</section>
	<!-- container section start -->

	<!-- codeDescriptionDialog: Start -->
	<div class="modal fade" id="codeDescriptionDialog" tabindex="-1" role="dialog" data-backdrop="static" aria-labelledby="parameterDialogLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h4 id="cdDlgTitle" class="modal-title"></h4>
	        <div class="col-md-3" id="codeDescriptionDialogLabel" hidden="hidden">
				<label style="background-color: #ffff99 !important; color:Black; height: 20px;">--codeDescriptionDialog--</label>  
			</div>	
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	      </div>
	      <div class="modal-body">

			<section class="panel">
			
				<form onsubmit="return false" class="form-horizontal">
					<fieldset>
						<div id="cdDlgErrorDiv" style="display: none"></div>
				    	
				    	<div class="row">
				    		<label class="col-md-3 col-form-label" for="cdDlgCode">Code *</label>
							<div class="col-md-6">
								<div class="form-group">
									<input type="text" id="cdDlgCode" name="cdDlgCode" class="form-control" style="text-transform:uppercase" >
								</div>
							</div>
				    	</div>
				    	<div class="row">
				    		<label class="col-md-3 col-form-label" for="cdDlgName">Name *</label>
							<div class="col-md-9">
								<div class="form-group">
									<input type="text" id="cdDlgName" name="cdDlgName" class="form-control">
								</div>
							</div>
				    	</div>
				    	<div class="row">
				    		<label class="col-md-3 col-form-label" for="cdDlgDescription">Description</label>
							<div class="col-md-9">
								<div class="form-group">
									<input type="text" id="cdDlgDescription" name="cdDlgDescription" class="form-control">
								</div>
							</div>
				    	</div>
				    </fieldset>
			  	</form>
	    	</section>
	      
	      </div>
	      <div class="modal-footer">
	        <button data-dismiss="modal" class="btn btn-sm btn-default" type="button">Cancel</button>
	        <button id="cdDlgSaveButton" class="btn btn-sm btn-primary" type="button">Save</button>
	      </div>
	    </div>
	  </div>
	</div>
	<!-- codeDescriptionDialog: End -->





	<!-- uiComponentDialog: Start -->
	<div class="modal fade" id="uiComponentDialog" tabindex="-1" role="dialog" data-backdrop="static" aria-labelledby="roleOnAProjectDialogLabel" aria-hidden="true">
	  <div class="modal-dialog  modal-med40">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h4 class="modal-title">Link Permission to Role</h4>
			<div class="col-md-3" id="uiComponentDialogLabel" hidden="hidden">
				<label style="background-color: #ffff99 !important; color:Black; height: 20px;">--uiComponentDialog--</label>  
			</div>		        
	        <button type="button"  class="close" onclick="closeUiComponentDialog()" aria-hidden="true">&times;</button>
	      </div>
	      <div class="modal-body">

			<section class="panel">
				<form onsubmit="return false" class="form-horizontal">
					<fieldset>
						<div id="uicDlgErrorDiv" style="display: none"></div>
				    	

				    	<div class="row">
				    		<label class="col-md-4 col-form-label" for="uiUiComponentId">UiComponentId</label>
							<div class="col-md-8">
								<div class="form-group">
									<input type="text" id="uiUiComponentId" class="form-control"  readonly >
								</div>
							</div>
				    	</div>



						<div class="row">
							<label class="col-md-4 col-form-label"
								for="uiParentUiComponentId">Parent Ui Component</label>
							<div class="col-md-8">
								<div class="input-group">
									<input  id="uiParentUiComponentId" class="col-md-3 form-control"	 onkeyup="generalTabChanged()" readonly> 
									<input type="text"	id="uiParentUiComponentIdName" readonly	class="col-md-9 form-control" > 
									<span
										class="input-group-addon pointer"
										onclick="selectParentUiComponentId()"> <i
										class="fas fa-binoculars"></i>
									</span>
								</div>
							</div>
						</div>

						<div class="row">
							<label class="col-md-4 col-form-label"	for="uiPermissionCodeRequired">Permission Code</label>
							<div class="col-md-8">
								<select id="uiPermissionCodeRequired" class="form-control"	></select>
							</div>
						</div>

				    	<div class="row">
				    		<label class="col-md-4 col-form-label" for="uiUiComponentTitle">Ui Component Title *</label>
							<div class="col-md-8">
								<div class="form-group">
									<input type="text" id="uiUiComponentTitle" class="form-control"  >
								</div>
							</div>
				    	</div>

				    	<div class="row">
				    		<label class="col-md-4 col-form-label" for="uiUiComponentLink">Ui Component Link</label>
							<div class="col-md-8">
								<div class="form-group">
									<input type="text" id="uiUiComponentLink" class="form-control"  >
								</div>
							</div>
				    	</div>

				    	<div class="row">
				    		<label class="col-md-4 col-form-label" for="uiOrderNo">Order No *</label>
							<div class="col-md-8">
								<div class="form-group">
									<input type="text" id="uiOrderNo" class="form-control"  maxlength=4 onkeypress="return onlyNumberKey(event)" >
								</div>
							</div>
				    	</div>


						<div class="row">
							<div class="col-md-2">
								<input type="checkbox" id="uiActiveInd" onchange="generalTabChanged()"> 
								<label class="col-form-label" for="uiActiveInd">Active</label>
							</div>
						</div>




				    	<div class="row">
				    		<label class="col-md-4 col-form-label" for="uiIconClassName">Icon Class Name</label>
							<div class="col-md-8">
								<div class="form-group">
									<input type="text" id="uiIconClassName" class="form-control"  >
								</div>
							</div>
				    	</div>

				    </fieldset>
			  	</form>
	    	</section>
	      
	      </div>
			<div class="modal-footer">
				<button class="btn btn-sm btn-default" type="button" onclick = "closeUiComponentDialog()">Cancel</button>
				<button id = "saveUiComponentDialogButton" class="btn btn-sm btn-primary" type="button"
					onclick="saveUiComponent()" >Save</button>
			</div>
	    </div>
	  </div>
	</div>
	<!-- uiComponentDialog: End -->









	<!-- rolePermissionForRoleDialog: Start -->
	<div class="modal fade" id="rolePermissionForRoleDialog" tabindex="-1" role="dialog" data-backdrop="static" aria-labelledby="roleOnAProjectDialogLabel" aria-hidden="true">
	  <div class="modal-dialog  modal-med40">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h4 class="modal-title">Link Permission to Role</h4>
			<div class="col-md-3" id="rolePermissionForRoleDialogLabel" hidden="hidden">
				<label style="background-color: #ffff99 !important; color:Black; height: 20px;">--rolePermissionForRoleDialog--</label>  
			</div>		        
	        <button type="button"  class="close" onclick="closeRolePermissionForRoleDialog()" aria-hidden="true">&times;</button>
	      </div>
	      <div class="modal-body">

			<section class="panel">
				<form onsubmit="return false" class="form-horizontal">
					<fieldset>
						<div id="rpfrDlgErrorDiv" style="display: none"></div>
				    	
				    	<div class="row">
							<div class="col-md-4" id="rpForRoleRoleCodeLabel" hidden="hidden">
								<label style="background-color: #ffff99 !important; color:Black; height: 20px;">RoleCode</label>  
							</div>
							<div class="col-md-8" id="rpForRoleRoleCodeDiv" hidden="hidden">
								<input type="text" id="rpForRoleRoleCode" class="form-control" readonly style="border-color: black; border: 1px; background-color: #ffff99 !important; color:Black; height: 20px;" height="36">
							</div>	
						</div>	

				    	<div class="row">
				    		<label class="col-md-4 col-form-label" for="rpForRoleRoleName">Role *</label>
							<div class="col-md-8">
								<div class="form-group">
									<input type="text" id="rpForRoleRoleName" class="form-control" readonly >
								</div>
							</div>
				    	</div>

						<label class="col-md-4 col-form-label"	for="rpPermission">Permission *</label>
						<div class="col-md-8">
							<select id="rpPermission" class="form-control"
								></select>
						</div>

				    </fieldset>
			  	</form>
	    	</section>
	      
	      </div>
			<div class="modal-footer">
				<button class="btn btn-sm btn-default" type="button" onclick = "closeRolePermissionForRoleDialog()">Cancel</button>
				<button id = "saveRolePermissionForRoleButton" class="btn btn-sm btn-primary" type="button"
					onclick="saveRolePermissionForRoleDialog()" >Save</button>
			</div>
	    </div>
	  </div>
	</div>
	<!-- rolePermissionForRoleDialog: End -->


	<!-- rolePermissionForPermissionDialog: Start -->
	<div class="modal fade" id="rolePermissionForPermissionDialog" tabindex="-1" role="dialog" data-backdrop="static" aria-labelledby="roleOnAProjectDialogLabel" aria-hidden="true">
	  <div class="modal-dialog  modal-med40">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h4 class="modal-title">Link Role to Permission</h4>
			<div class="col-md-3" id="rolePermissionForPermissionDialogLabel" hidden="hidden">
				<label style="background-color: #ffff99 !important; color:Black; height: 20px;">--rolePermissionForPermissionDialog--</label>  
			</div>		        
	        <button type="button"  class="close" onclick="closeRolePermissionForPermissionDialog()" aria-hidden="true">&times;</button>
	      </div>
	      <div class="modal-body">

			<section class="panel">
				<form onsubmit="return false" class="form-horizontal">
					<fieldset>
						<div id="rpfpDlgErrorDiv" style="display: none"></div>
				    	
				    	<div class="row">
							<div class="col-md-4" id="rpForPermissionPermissionCodeLabel" hidden="hidden">
								<label style="background-color: #ffff99 !important; color:Black; height: 20px;">PermissionCode</label>  
							</div>
							<div class="col-md-8" id="rpForPermissionPermissionCodeDiv" hidden="hidden">
								<input type="text" id="rpForPermissionPermissionCode" class="form-control" readonly style="border-color: black; border: 1px; background-color: #ffff99 !important; color:Black; height: 20px;" height="36">
							</div>	
						</div>	

				    	<div class="row">
				    		<label class="col-md-4 col-form-label" for="rpForPermissionPermissionName">Permission *</label>
							<div class="col-md-8">
								<div class="form-group">
									<input type="text" id="rpForPermissionPermissionName" class="form-control" readonly >
								</div>
							</div>
				    	</div>

						<label class="col-md-4 col-form-label"	for="rpRole">Role *</label>
						<div class="col-md-8">
							<select id="rpRole" class="form-control"
								></select>
						</div>

				    </fieldset>
			  	</form>
	    	</section>
	      
	      </div>
			<div class="modal-footer">
				<button class="btn btn-sm btn-default" type="button" onclick = "closeRolePermissionForPermissionDialog()">Cancel</button>
				<button id = "saveRolePermissionForPermissionButton" class="btn btn-sm btn-primary" type="button"
					onclick="saveRolePermissionForPermissionDialog()" >Save</button>
			</div>
	    </div>
	  </div>
	</div>
	<!-- rolePermissionForPermissionDialog: End -->


	
	<!-- javascript -->
	<script type="text/javascript" th:src="@{js/jquery.js}"></script>
	<script type="text/javascript" th:src="@{js/jquery-ui-1.10.4.min.js}"></script>
	<script type="text/javascript" th:src="@{js/jquery-1.8.3.min.js}"></script>
	<script type="text/javascript"
		th:src="@{js/jquery-ui-1.9.2.custom.min.js}"></script>

	<!-- bootstrap -->
	<script type="text/javascript" th:src="@{js/bootstrap.min.js}"></script>

	<!-- bootstrap datatables -->
	<script type="text/javascript" th:src="@{/assets/datatables/jquery.dataTables.min.js}"></script>
	<script type="text/javascript" th:src="@{/assets/datatables/dataTables.bootstrap4.min.js}"></script>
	<script type="text/javascript" th:src="@{/assets/Select-1.2.6/js/dataTables.select.min.js}"></script>
	<script type="text/javascript" th:src="@{/assets/Buttons-1.5.2/js/dataTables.buttons.min.js}"></script>
	<script type="text/javascript" th:src="@{/assets/Buttons-1.5.2/js/buttons.jqueryui.min.js}"></script>

	<!-- nice scroll -->
	<script type="text/javascript" th:src="@{js/jquery.scrollTo.min.js}"></script>
	<script type="text/javascript" th:src="@{js/jquery.nicescroll.js}"></script>

	<!-- charts scripts -->
	<script type="text/javascript" th:src="@{assets/jquery-knob/js/jquery.knob.js}"></script>
	<script type="text/javascript" th:src="@{js/jquery.sparkline.js}"></script>
	<script type="text/javascript" th:src="@{assets/jquery-easy-pie-chart/jquery.easy-pie-chart.js}"></script>
	<script type="text/javascript" th:src="@{js/owl.carousel.js}"></script>

	<!-- jQuery full calendar -->
	<script type="text/javascript" th:src="@{js/fullcalendar.min.js}"></script>

	<!-- Full Google Calendar - Calendar -->
	<script type="text/javascript" th:src="@{assets/fullcalendar/fullcalendar/fullcalendar.js}"></script>
	<script type="text/javascript" th:src="@{assets/datepicker/1.8.0/js/bootstrap-datepicker.js}"></script>
	
	<!-- custom select -->
	<script type="text/javascript" th:src="@{js/jquery.customSelect.min.js}"></script>
	<script type="text/javascript" th:src="@{assets/chart-master/Chart.js}"></script>

	<!--custom script for all page-->
	<script type="text/javascript" th:src="@{js/scripts.js}"></script>
	<!-- <script type="text/javascript" th:src="@{ignite/js/dirtyforms.js}"></script> -->
	<script type="text/javascript" th:src="@{ignite/js/ignite.js}"></script>

	<!-- custom script for this page -->
	<script type="text/javascript" th:src="@{ignite/js/ignite-setup/setupSubscription.js}"></script>

</body>
</html>
